<style>
    * {
      font-family: "Rajdhani", sans-serif;
    }
    
    h2 {
      line-height: 90px !important;
    }
    
    .text-gray {
      color: #5c5c5b;
    }
    
    .text-primary {
      color: #1518a7 !important;
    }
    
    .border-l-primary {
      border-left: solid 15px #1518a7;
    }
    
    .carousel-control-custom {
      border-radius: 50%;
      height: 40px;
      width: 40px;
    }
    
    .carousel-container {
      position: relative;
    }
    .custom-container {
      position: absolute;
      bottom: 60px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
    }
    
    .custom-container-title {
      position: absolute;
      top: 60px;
      z-index: 10;
    }
    
    .border-none {
      border: none;
    }
    
    .bg-secondary {
      background: #ea3133 !important;
    }
    .bg-primary {
      background: #1518a7 !important;
    }
    
    .family-orbitron {
      font-family: "Orbitron", sans-serif;
    }
    
    .f-50 {
      font-size: 120px;
    }
    
    .f-120 {
      font-size: 120px;
    }
    
    .f-140 {
      font-size: 120px;
    }
    
    .text-gray-secondary {
      color: #c0c0c061;
    }
    
    .bg-gray-secondary {
      background: #c0c0c061;
    }
    
    .card-custom {
      position: relative;
      background: url("/images/Recurso\ 4.png") no-repeat center center;
      background-size: cover;
      height: 500px;
      overflow: hidden;
    }
    .card-text-container {
      position: absolute;
      bottom: 0; /* or top: 0; for the top half */
      width: 100%;
      height: 50%;
      background: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
      color: white;
      display: flex;
      align-items: center;
      padding: 20px;
    }
    
    .container-image {
      background-repeat: no-repeat;
      background-size: cover;
    }
    
    .container-calendar {
      background: white;
      width: fit-content;
    }
    
    #calendar table thead {
      padding: 1em;
    }
    
    #calendar table tbody {
      padding: 1em;
    }
    
    .custom-carousel-indicators button {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background-color: gray;
      border: none;
    }
    
    /* Estilo para el indicador activo */
    /*.custom-carousel-indicators .active {
      background-color: blue;
    }*/
    
    /* Estilo para la sección de control del carrusel */
    /*.carousel-indicators {
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 2;
        justify-content: center;
        padding: 0;
        width: auto;
        display: none !important;
        position: none!important;
    }*/
    
    .carousel-indicators {
        position: relative!important;
        margin: 0!important;
    }
    
    .custom-indicators-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px;
    }
    
    .carousel-indicators.custom-carousel-indicators button {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background-color: #efefef;
      border: none;
    }
    
    .carousel-indicators.custom-carousel-indicators .active {
      background-color: blue;
    }
    
    .text-white.d-flex.align-items-center.justify-content-between.px-5.py-5 {
      justify-content: space-between;
    }
    
    .title-model {
      font-size: 120px;
    }
    
          .container-blog{
            height: 30em; position: relative;
            }
        
    
    @media (max-width: 720px) {
      .title-model {
        font-size: 50px;
        line-height: 40px !important;
      }
      .custom-container-title {
        top: 20px;
      }
      .custom-container {
        bottom: 10px;
      }
    
      .carousel-control-custom {
        border-radius: 50%;
        height: 30px;
        width: 30px;
        z-index: 20
      }
    
      .box {
        width: 80px;
        height: 80px;
        background-color: lightblue;
      }
      
            .container-blog{
            height: 22em;;
            }
        
    
        
    }
</style>

<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="https://globalbajajcms.azurewebsites.net/media/11046/image3.jpg" class="d-block w-100" alt="https://globalbajajcms.azurewebsites.net/media/11046/image3.jpg" />
        </div>
        <div class="carousel-item">
            <img src="https://globalbajajcms.azurewebsites.net/media/11045/image2.jpg" class="d-block w-100" alt="https://globalbajajcms.azurewebsites.net/media/11045/image2.jpg" />
        </div>
        <div class="carousel-item">
            <img src="https://globalbajajcms.azurewebsites.net/media/11044/image1.jpg" class="d-block w-100" alt="https://globalbajajcms.azurewebsites.net/media/11044/image1.jpg" />
        </div>
    </div>
    <div class="custom-container d-flex flex-column w-100">
        <button class="px-3 px-md-5 py-2 py-md-3 py-md-1 bg-secondary border-none text-uppercase fw-bold text-white mx-auto fs-5">
            Cotiza tu moto
        </button>
        <div class="text-white d-flex align-items-center justify-content-between px-5 py-md-5 py-1">
            <div class="carousel-indicators custom-carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div>
                <button class="rounded-circle border-none bg-primary border border-white carousel-control-custom" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                    <i class="fa-solid fa-chevron-left text-white p-1"></i>
                </button>
                <button class="rounded-circle border-none bg-primary border border-white carousel-control-custom" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                    <i class="fa-solid fa-chevron-right text-white"></i>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- FIN CAROUSEL LANDING -->

<!-- SECCION TITULO -->

<div class="py-3">
    <div class="border-l-primary">
        <div class="px-3">
            <h3 class="text-uppercase text-gray fs-6">Nuestros modelos pulsar</h3>
            <h1 class="text-uppercase text-primary fs-1 fw-bold">
            selecciona tu
          </h1>
            <h1 class="text-uppercase text-primary fs-1 fw-bold">
            estilo o necesidad
          </h1>
        </div>
    </div>
</div>
<!-- FIN SECCION TITULO -->

<!-- SECCION CARRUSEL -->

<div class="carousel-container">
    <div id="carouselSecond" class="carousel slide carousel-fade">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://globalbajajcms.azurewebsites.net/media/11044/image1.jpg" class="d-block w-100" alt="..." />
            </div>
            <div class="carousel-item">
                <img src="https://globalbajajcms.azurewebsites.net/media/11045/image2.jpg" class="d-block w-100" alt="..." />
            </div>
            <div class="carousel-item">
                <img src="https://globalbajajcms.azurewebsites.net/media/11046/image3.jpg" class="d-block w-100" alt="..." />
            </div>
        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#carouselSecond" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselSecond" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <!-- Botón superpuesto en la parte central inferior -->
    <div class="custom-container-title d-flex flex-column w-100 justify-content-start align-items-start">
        <h2 class="px-5 w-100 text-uppercase fw-bold text-white mx-auto title-model">
          pulsar
        </h2>
        <h2 class="px-5 w-100 text-uppercase fw-bold text-white mx-auto title-model">
          n250
        </h2>
        <p class="px-5 text-uppercase text-white fw-medium">
            Ver especificaciones
        </p>
    </div>
    <div class="custom-container d-flex flex-column w-100">
        {#
        <button class="">
            Cotiza tu moto
        </button>#}
        <a data-bs-toggle="modal" data-bs-target="#cotizar" class="text-decoration-none px-3 px-md-5 py-2 py-md-3 py-md-1 custom-button bg-secondary border-none text-uppercase fw-bold text-white mx-auto fs-5">
            COTIZA TU MOTO
        </a>
    </div>
</div>

<!-- FIN SECCION CARRUSEL -->

<!-- SECCIONES DE INFO -->
<div class="container-fluid">
    <section class="row justify-content-center">
        {%for obj in site.repeater_category_pulsar%}
        <div class="col-12 col-md-6 p-0 ">
            <!-- Card -->

            <div class="container-image" style="background-image: url('{{ obj.image|media }}')">
                <div class="card-body text-white">
                    <div class="border-l-primary px-3 pt-5">
                        <h5 class="card-title fs-1 text-uppercase fw-bold">
                     {{obj.title}}
                </h5>
                        <p class="card-text text-uppercase fs-4">
                            {{obj.description}}
                        </p>
                    </div>

                    <div class="f-120 text-gray-secondary fw-bold family-orbitron px-5">
                        0{{ loop.index0 +1 }}
                    </div>
                </div>
            </div>


            <!-- Card -->
        </div>
        {%endfor%}
        <!-- FIN SECCIONES DE INFO -->

        <!-- SECCIONES DE INFO -->

    </section>
</div>
<!-- FIN SECCIONES DE INFO -->

<!-- SECCION TITULO -->

<div class="py-3">
    <div class="border-l-primary">
        <div class="px-3">
            <h3 class="text-uppercase text-gray fs-6">
            últimas noticias del mundo motero
          </h3>
            <h1 class="text-uppercase text-primary fs-1 fw-bold">blog pulsar</h1>
        </div>
    </div>
</div>
<!-- FIN SECCION TITULO -->

<!-- INICIO SECCION BLOG -->

<div class="px-4">
    <div class="row">
        {% for obj in posts %}
        <div class="col-md-6" style="margin: 5px 0;">
            <div class="container-blog" style="position: relative;">
                <img src="{{ obj.featured_images[0].path }}" style="width: 100%; height: 100%;">
                <div class="p-3" style="position: absolute; bottom: 0; left: 0; width: 100%; background-color: rgba(0, 0, 0, 0.4);">
                    <div class="fw-bold text-white py-1 fs-1 lh-sm" style="color: white; margin: 0 10px">
                        {{ obj.title }}
                    </div>
                    <div class="text-exo2-regular line-limit-2" style="color: #fff; margin: 0 10px">
                        <p>{{ obj.excerpt|striptags|slice(0, 600) }}</p>
                    </div>
                    <div style="margin: 10px 10px">
                        <a href="blog/{{ obj.slug }}" class="px-5 py-3 fs-5 fw-bold pulsar-bg-primary border-0 text-uppercase text-white d-inline-block text-decoration-none">
                            leer más
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- FIN SECCION BLOG -->

<!-- SECCION TITULO -->

<div class="pt-3">
    <div class="border-l-primary">
        <div class="px-3">
            <div class="d-flex gap-2">
                <i class="fa-brands fa-instagram text-danger"></i>
                <h3 class="text-uppercase text-primary fs-6 fw-semibold">
              @pulsarmotosperu
            </h3>
            </div>

            <h1 class="text-uppercase text-primary fs-1 fw-bold">
            síguenos en instagram
          </h1>
        </div>
    </div>
</div>
<!-- FIN SECCION TITULO -->

<div class="d-flex justify-content-end align-items-center text-center text-uppercase px-2 text-medium fw-normal fs-5 gap-2">
    <div>seguir</div>
    <img src="/images/arrow.png" class="w-20" alt="..." />
</div>

<!-- SECCION INSTRAGRAM -->

<script src="https://static.elfsight.com/platform/platform.js" data-use-service-core defer></script>
<div class="elfsight-app-e8c2d0d4-1417-4b6c-aa8b-0b14de2f05a6 py-4 px-3" data-elfsight-app-lazy></div>
<!-- FIN SECCION INSTAGRAM -->

<!-- SECCION TITULO -->

<div class="pt-3">
    <div class="border-l-primary">
        <div class="px-3">
            <div class="d-flex gap-2">
                <i class="fa-brands fa-instagram text-danger"></i>
                <h3 class="text-uppercase text-primary fs-6 fw-semibold">
              @pulsarmotosperu
            </h3>
            </div>

            <h1 class="text-uppercase text-primary fs-1 fw-bold">
            síguenos en tiktok
          </h1>
        </div>
    </div>
</div>
<!-- FIN SECCION TITULO -->

<div class="d-flex justify-content-end align-items-center text-center text-uppercase px-2 text-medium fw-normal fs-5 gap-2">
    <div>seguir</div>
    <img src="/images/arrow.png" class="w-20" alt="..." />
</div>

<!-- SECCION TIKTOK -->

<script src="https://static.elfsight.com/platform/platform.js" data-use-service-core defer></script>
<div class="elfsight-app-3e81e145-45cb-4bfe-9129-e1a2b0dcbe84 py-4 px-3" data-elfsight-app-lazy></div>

<!-- FIN SECCION TIKTOK -->

<!-- SECCION EVENTOS -->

<!-- INICIO SELECCION EVENTO -->
<div class="overflow-x-hidden">
    <section class="row">
        <div class="col-12">
            <div class="py-3">
                <div class="border-l-primary">
                    <div class="px-3">
                        <h3 class="text-uppercase text-gray fs-6">
                  historial de eventos pulsar
                </h3>
                        <h1 class="text-uppercase text-primary fs-1 fw-bold">
                  eventos
                </h1>
                    </div>
                </div>
            </div>

            <form data-request="onSearchEvents" data-request-update="event: '#filter-events'">
                <input type="text" id="select_fecha" class="select_fecha" style="display:none" name="date">
                <div class="p-5" style="background:#1d1d1b">
                    <h3 class="text-uppercase text-white fs-4 fw-bold">buscar por:</h3>
                    <div class="container-fluid overflow-x-hidden p-0">

                        <div class="row text-white justify-content-center py-3">
                            <div class="col-6 col-sm-1 col-md-1 form-check form-check-inline mx-md-4">
                                <input class="form-check-input" type="checkbox" name="EVE" value="EVE" id="EVE">
                                <label class="text-exo2-medium form-check-label filter-model" for="EVE">
                                    EVENTOS
                                </label>
                            </div>
                            <div class="col-6 col-sm-1 col-md-1 form-check form-check-inline mx-md-4">
                                <input class="form-check-input" type="checkbox" name="PRU" value="PRU" id="PRU">
                                <label class="text-exo2-medium form-check-label filter-model" for="PRU">
                                    PRUEBAS DE MANEJO
                                </label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12 col-md-4 mb-3">
                                <select class="form-select w-100 py-3" id="store-department" name="department">
                                    <option value="" selected="" hidden="">DEPARTAMENTO</option>
                                </select>
                            </div>

                            <div class="col-12 col-md-4 mb-3">
                                <select class="form-select w-100 py-3" id="store-province" name="province">
                                    <option value="" selected="" hidden="">PROVINCIA</option>
                                </select>
                            </div>

                            <div class="col-12 col-md-4 mb-3">
                                <select class="form-select w-100 py-3" id="store-district" name="district">
                                    <option value="" selected="" hidden="">DISTRITO</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center align-items-center">
                        <div class="col-12 col-md-2 bg-primary">
                            <button type="submit" class="px-5 py-3 custom-button bg-primary border-0 text-uppercase fw-bold text-white mx-auto fs-5 w-100">
                                buscar
                            </button>
                        </div>
                    </div>
                </div>






                <div class="container-calendar mx-auto px-4 py-3">
                    <div id="calendar" name="calendar" data-language="es"></div>
                    <input type="text" id="select_date" class="" style="display:none" name="selectDate">
                    <input type="text" id="select_month" class="" style="display:none" name="selectMonth">
                    <input type="text" id="select_fecha" class="select_fecha" style="display:none" name="date">
                    <button id="formCalendar" class="" type="submit" style="display:none"></button>
                </div>
            </form>

            <div id="datesData" data-dates="{{ model.dates|json_encode }}">
                <div id="eventsData" data-stores="{{ model.eventos|json_encode }}">

                </div>
                <!-- FIN SELECCION EVENTO -->

                <!-- SECCION DETALLES EVENTO -->
                <div class="col-12">
                    <div class="py-3">
                        <div class="px-3">
                            <p class="text-uppercase text-primary fs-1 fw-bold">
                                evento pulsar day
                            </p>
                            <div class="container-fluid" id="filter-events">

                                {% partial 'event' dataEventos=model.eventos %}


                            </div>



                        </div>
                    </div>




                    <!-- 
          <div class="py-3">
            <div class="text-uppercase">
              <p class="px-3 text-primary fs-1 fw-bold">pruebas de manejo</p>
              <div class="overflow-x-hidden">
                <div class="row justify-content-between lh-1 p-0">
                  <div class="row p-3 col-12 col-lg-4 bg-gray-secondary">
                    <div class="col text-center">
                      <p>almajer global</p>
                      <p>av. san martin 370 t. n/a</p>
                      <p>horario: <span>l-v 10am a 6pm</span></p>
                    </div>
                    <div class="col text-center">
                      <div
                        class="d-flex gap-1 justify-content-start align-items-start"
                      >
                        <img src="/images/moto.png" class="" alt="..." />
                        <p>pulsar n250</p>
                      </div>
                      <div
                        class="d-flex gap-1 justify-content-start align-items-start"
                      >
                        <img src="/images/moto.png" class="" alt="..." />
                        <p>pulsar ns200</p>
                      </div>
                    </div>
                  </div>

                  <div class="row p-3 col-12 col-lg-4">
                    <div class="col text-center">
                      <p>almajer global</p>
                      <p>av. san martin 370 t. n/a</p>
                      <p>horario: <span>l-v 10am a 6pm</span></p>
                    </div>
                    <div class="col">
                      <div
                        class="d-flex gap-1 justify-content-start align-items-start"
                      >
                        <img src="/images/moto.png" class="" alt="..." />
                        <p>pulsar n250</p>
                      </div>
                      <div
                        class="d-flex gap-1 justify-content-start align-items-start"
                      >
                        <img src="/images/moto.png" class="" alt="..." />
                        <p>pulsar ns200</p>
                      </div>
                    </div>
                  </div>

                  <div class="row p-3 col-12 col-lg-4 bg-gray-secondary">
                    <div class="col text-center">
                      <p>almajer global</p>
                      <p>av. san martin 370 t. n/a</p>
                      <p>horario: <span>l-v 10am a 6pm</span></p>
                    </div>
                    <div class="col">
                      <div
                        class="d-flex gap-1 justify-content-start align-items-start"
                      >
                        <img src="/images/moto.png" class="" alt="..." />
                        <p>pulsar n250</p>
                      </div>
                      <div
                        class="d-flex gap-1 justify-content-start align-items-start"
                      >
                        <img src="/images/moto.png" class="" alt="..." />
                        <p>pulsar ns200</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          -->
                </div>
                <!-- FIN SECCION DETALLES EVENTO -->
    </section>
    </div>

    {% put scripts %}
    <script>
        let myCalendar = jsCalendar.new("#calendar");
          
              
             window.addEventListener("DOMContentLoaded", () => {
        initStores();
        transformHour();
        drawDays();
      });
      
function drawDays() {
    const storesDataElement = document.getElementById('datesData');
    const highlightedDatesStrings = JSON.parse(storesDataElement.getAttribute('data-dates'));


    const highlightedDates = highlightedDatesStrings.map(dateString => new Date(dateString));


    console.log(highlightedDates);

    myCalendar.select(highlightedDates);
}
      
      
          myCalendar.onDateRender(function(date, element, info) {
		//PINTAR FECHA DE FIN DE SEMANA
		if (!info.isCurrent && (date.getDay() == 0 || date.getDay() == 6)) {
			element.style.fontWeight = '600';
			element.style.color = '#a6a6a6';
		}
		
		//PINTAR FECHAS
		if(myCalendar.getSelected().includes(date.getTime())) {
            element.style.fontWeight = 'bold';
            element.style.background = '#eff4f8';
            element.style.color      = '#007cc2';
            console.log('incluye');
        }
	});

    myCalendar.onDateClick(function(event, date) {
        var day = date.getDay();
        var month = date.getMonth() + 1;
        
        var current_day = jsCalendar.tools.stringToDate(new Date().toLocaleDateString());
        selectDate  = date;
        
        myCalendar.onDateRender(function(date, element, info) {
    		
    		if (date.getTime() == selectDate.getTime()) {
    			/*element.style.fontWeight = '600';
    			element.style.border = '2px solid #ba4362';
    			element.style.borderRadius  = '100%';
    			element.style.color = '#072A77';
    			*/

                element.style.fontWeight = 'bold';
                element.style.background = '#eff4f8';
                element.style.color      = '#007cc2';
                element.style.borderRadius  = '100%';
                element.style.border = '2px solid #ba4362';
            }
        		
    	});
        
        console.log('current_day', current_day.getTime());
        console.log('select_day', date.getTime());
           console.log(day);
            console.log(current_day);
        var validate = current_day.getTime() <= date.getTime() ? true : false;
        if (validate) {
            $('#select_date').val(day);
            $('#select_month').val(month);
           // $('#select_fecha').val(selectDate.toLocaleDateString());
           $('.select_fecha').each(function() {
                $(this).val(selectDate.toLocaleDateString());
            });
            $("#formCalendar").click();
        } else {
            console.log('msg: fecha anterior no disponible');
            msg.innerHTML = '<p>Fecha seleccionada no disponible</p>';
            showSwal(msg, 'error');
        }
        
        myCalendar.refresh();
    });



      function transformHour(){
          const elements = document.querySelectorAll('#formattedHour');
                         elements.forEach(function(element) {
            const hour24 = element.textContent
            const hour12 = convertTimeTo12HourFormat(hour24);
            element.textContent = hour12;
        });
          }
      
      function convertTimeTo12HourFormat(time) {
        const [hourString, minute] = time.split(':');
        let hour = parseInt(hourString);
        const period = hour >= 12 ? 'PM' : 'AM';
        hour = hour % 12 || 12;
        const formattedHour = hour.toString();
        const formattedMinute = minute.padStart(2, '0');
        return `${formattedHour}:${formattedMinute} ${period}`;
    }
      
                function initStores() {
        var select_dep = document.getElementById("store-department");
        var departments = UBIGEO.departments;
        for(data in UBIGEO.departments) {
            select_dep.options[select_dep.options.length] = new Option(UBIGEO.departments[data], data);
        }
        
    }
    
           $(document).on('change', '#store-department', function() {
        var select_pro = document.getElementById("store-province");
        $('#store-province').empty();
        $('#store-province').append('<option value="" selected hidden>PROVINCIA</option>');
        
        var selected = $(this).val();
        var provinces = UBIGEO.provinces;
        
        for(data in provinces) {
            if (data.substring(0,2) == selected) {
                select_pro.options[select_pro.options.length] = new Option(provinces[data], data);
            }
        }
    });
    
    
        $(document).off('change', '#store-province');
    $(document).on('change', '#store-province', function() {
        var select_dis = document.getElementById("store-district");
        $('#store-district').empty();
        $('#store-district').append('<option value="" selected hidden>DISTRITO</option>');
        
        var selected = $(this).val();
        var districts = UBIGEO.districts;
        
        for(data in districts) {
            if (data.substring(0,4) == selected) {
                select_dis.options[select_dis.options.length] = new Option(districts[data], data);
            }
        }
    });
    </script>
    {% endput %}